"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{7336:function(n,e){e.Z={src:"/_next/static/media/pencil.9810d82b.svg",height:20,width:20}},8867:function(n,e,t){var r=t(7568),i=t(4924),u=t(7297),c=t(655),a=t(5893),o=t(7294),s=t(9531),d=t(1651),l=t(8153),f=t(9822),p=t(9521),h=t(5321),x=t(7336),v=t(5675),b=t.n(v);function g(){var n=(0,u.Z)(["\n	display: flex;\n	flex-direction: column;\n	width: 100%;\n	align-items: center;\n	justify-content: center;\n	padding: 20px;\n"]);return g=function(){return n},n}function Z(){var n=(0,u.Z)(["\n	display: flex;\n	flex-direction: column;\n	gap: 20px;\n	margin-bottom: 20px;\n"]);return Z=function(){return n},n}function m(){var n=(0,u.Z)(["\n	background-color: transparent;\n	border: none;\n	outline: none;\n	font-size: 20px;\n	&:focus {\n		border-bottom: 2px solid #fff;\n	}\n\n	&:disabled {\n		color: #fff;\n	}\n"]);return m=function(){return n},n}function k(){var n=(0,u.Z)(["\n	margin-bottom: 30px;\n"]);return k=function(){return n},n}function j(){var n=(0,u.Z)(["\n	display: flex;\n	gap: 20px;\n"]);return j=function(){return n},n}function y(){var n=(0,u.Z)(["\n	display: flex;\n	width: 100%;\n	gap: 20px;\n	margin-bottom: 20px;\n	justify-content: flex-end;\n"]);return y=function(){return n},n}function C(){var n=(0,u.Z)(["\n	border: none;\n	padding: 0;\n\n	&:hover {\n		background-color: transparent;\n	}\n\n	&:focus {\n		outline: none;\n	}\n"]);return C=function(){return n},n}function D(){var n=(0,u.Z)(["\n	width: 100vw;\n	height: 100vh;\n	display: flex;\n	justify-content: center;\n	align-items: center;\n"]);return D=function(){return n},n}var w=p.ZP.div(g()),P=p.ZP.div(Z()),T=p.ZP.input(m()),_=p.ZP.div(k()),S=p.ZP.div(j()),O=p.ZP.div(y()),E=p.ZP.button(C()),R=p.ZP.div(D());e.Z=function(n){var e=n.creator,t=n.practise,u=n.id,p=(0,s.a)().currentUser,v=(0,o.useState)(!0),g=v[0],Z=v[1],m=(0,d.Z)(),k=m.loading,j=m.decks,y=m.error,C=(0,f.Z)(),D=C.handleChange,U=C.handleSave,V=C.disableWithEnter,J=C.disable,N=C.addTerm,A=C.terms,I=C.isDisabled,K=C.titleRef,W=C.saveRef,z=C.inputs,B=C.changeDisability,Q=C.loadTerms,Y=C.setInputs;function q(){return(q=(0,r.Z)(function(){var n;return(0,c.__generator)(this,function(e){switch(e.label){case 0:return n=(0,h.JU)(l.db,"users",p.uid),[4,(0,h.r7)(n,(0,i.Z)({},u,(0,h.AK)())).then(function(){router.push("/")})];case 1:return e.sent(),[2]}})})).apply(this,arguments)}return(0,o.useEffect)(function(){k||e||(g&&p?Object.keys(j).map(function(n){n===u&&(Y(j[u]),Z(!1))}):Q(z))},[k,g]),(0,o.useEffect)(function(){I||K.current.focus()},[I]),p?y?{error:y}:(0,a.jsxs)(w,{children:[e?"":(0,a.jsxs)(O,{children:[(0,a.jsx)("button",{onClick:t,children:"Practise"}),(0,a.jsx)("button",{onClick:function(){return q.apply(this,arguments)},children:"Delete Deck"})]}),(0,a.jsxs)(_,{children:[(0,a.jsx)(T,{type:"text",value:z.titleOfDeck,name:"titleOfDeck",id:"titleOfDeck",onChange:D,ref:K,disabled:I,onBlur:J,onKeyUp:V}),I&&(0,a.jsx)(E,{onClick:B,children:(0,a.jsx)(b(),{src:x.Z,onClick:B,alt:""})})]}),(0,a.jsx)("h2",{children:"Terms in deck"}),(0,a.jsx)(P,{children:A}),(0,a.jsxs)(S,{children:[(0,a.jsx)("button",{onClick:N,children:"+ Add Term"}),(0,a.jsx)("button",{onClick:function(){return U(u)},ref:W,children:"Save Deck"})]})]}):(0,a.jsx)(R,{children:"You need to be logged in"})}},1651:function(n,e,t){t.d(e,{Z:function(){return s}});var r=t(7568),i=t(655),u=t(7294),c=t(5321),a=t(8153),o=t(9531);function s(){var n=(0,u.useState)(!0),e=n[0],t=n[1],s=(0,u.useState)(null),d=s[0],l=s[1],f=(0,u.useState)(null),p=f[0],h=f[1],x=(0,o.a)().currentUser;return(0,u.useEffect)(function(){function n(){return(n=(0,r.Z)(function(){var n,e;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),n=(0,c.JU)(a.db,"users",x.uid),[4,(0,c.QT)(n)];case 1:return(e=r.sent()).exists()&&h(e.data()),[3,4];case 2:return r.sent(),l("Couldn't fetch data"),[3,4];case 3:return t(!1),[7];case 4:return[2]}})})).apply(this,arguments)}!function(){return n.apply(this,arguments)}()},[]),{decks:p,loading:e,error:d}}},9822:function(n,e,t){t.d(e,{Z:function(){return E}});var r=t(7568),i=t(4924),u=t(6042),c=t(9396),a=t(797),o=t(655),s=t(5893),d=t(3416),l=t(7294),f=t(9531),p=t(5321),h=t(8153),x=t(1163),v=t(7297),b=t(9521),g=t(5675),Z=t.n(g),m={src:"/_next/static/media/trash.c14f695b.svg",height:24,width:24};function k(){var n=(0,v.Z)(["\n	display: flex;\n	flex-wrap: wrap;\n	gap: 10px;\n	justify-content: center;\n	background-color: #418358;\n	padding: 20px 10px;\n	border-radius: 10px;\n"]);return k=function(){return n},n}function j(){var n=(0,v.Z)(["\n	border-radius: 5px;\n	color: #fff;\n	height: 25px;\n	padding: 10px 5px;\n"]);return j=function(){return n},n}function y(){var n=(0,v.Z)(["\n	width: 100%;\n	display: flex;\n	justify-content: flex-end;\n"]);return y=function(){return n},n}function C(){var n=(0,v.Z)(["\n	flex: 1;\n	display: flex;\n	flex-direction: column;\n	gap: 5px;\n"]);return C=function(){return n},n}function D(){var n=(0,v.Z)(["\n	background-color: transparent;\n	border: none;\n	cursor: pointer;\n	padding: 0;\n	&:hover {\n		background-color: transparent;\n	}\n"]);return D=function(){return n},n}var w=b.ZP.div(k()),P=b.ZP.input(j()),T=b.ZP.div(y()),_=b.ZP.div(C()),S=b.ZP.button(D()),O=function(n){var e=n.id,t=(n.defValue,n.deleteTerm),r=n.handleChange,i=n.term,u=n.definition;return(0,s.jsxs)(w,{className:"term-container",id:e,children:[(0,s.jsx)(T,{children:(0,s.jsx)(S,{id:e,onClick:t,children:(0,s.jsx)(Z(),{id:e,src:m,onClick:t,alt:""})})}),(0,s.jsxs)(_,{children:["Term",(0,s.jsx)(P,{type:"text",id:e,name:"term",defaultValue:i||"",onChange:r})]}),(0,s.jsxs)(_,{children:["Definition",(0,s.jsx)(P,{type:"text",id:e,name:"definition",defaultValue:u||"",onChange:r,placeholder:"definition"})]})]},e)};function E(){var n,e=function(n){var e=n.target,t=e.id,r=e.value,i=e.name;C(function(n){return(("object"!=typeof n[t]||null===n[t])&&(n[t]={term:"",definition:""}),"term"===i)?(n[t].term=r,(0,u.Z)({},n)):"titleOfDeck"===i?(0,c.Z)((0,u.Z)({},n),{titleOfDeck:r}):(n[t].definition=r,(0,u.Z)({},n))})},t=function(n){var e=n.target.id;P(function(n){return n.filter(function(n){if(n)return n.props.id!==e||(C(function(e){return delete e[n.props.id],e}),!1)})})},v=function(){var n=(0,d.x0)();P(function(r){return(0,a.Z)(r).concat([(0,s.jsx)(O,{deleteTerm:t,id:n,handleChange:e,defValue:""}),])})},b=function(){P(Object.keys(y).map(function(n){if("titleOfDeck"!==n)return(0,s.jsx)(O,{deleteTerm:t,id:n,handleChange:e,defValue:"",term:y[n].term,definition:y[n].definition})}))},g=function(){S(!0)},Z=function(){S(!1)},m=function(n){"Enter"===n.key&&E.current.blur()},k=(0,f.a)().currentUser,j=(0,l.useState)({titleOfDeck:"Deck Title"}),y=j[0],C=j[1],D=(0,l.useState)([]),w=D[0],P=D[1],T=(0,l.useState)(!0),_=T[0],S=T[1],E=(0,l.useRef)(null),R=(0,l.useRef)(!1),U=(0,x.useRouter)();function V(){return(V=(0,r.Z)(function(n){var e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:if(R.current.disabled=!0,e=(0,p.JU)(h.db,"users",k.uid),"string"!=typeof n)return[3,2];return[4,(0,p.r7)(e,(0,i.Z)({},n,(0,u.Z)({},y)))];case 1:return t.sent(),[3,4];case 2:return[4,(0,p.pl)(e,(0,i.Z)({},(0,d.x0)(),y),{merge:!0})];case 3:t.sent(),t.label=4;case 4:return U.push("/"),[2]}})})).apply(this,arguments)}return n={handleChange:e,handleSave:function(n){return V.apply(this,arguments)},disableWithEnter:m,disable:g,addTerm:v,terms:w,isDisabled:_,titleRef:E,saveRef:R,inputs:y,changeDisability:Z,loadTerms:b},(0,i.Z)(n,"inputs",y),(0,i.Z)(n,"setInputs",C),n}}}]);